import{r as $,i as y,a as S,a4 as q,m as h,o as w,k as B,j as l,f as t,h as E,cF as M,cK as j,L as D,cL as k,cM as U,c as _,l as x,cN as O,q as b,cO as L,cP as P,cQ as C,cR as F,s as H,cS as z,cT as K,cU as T,cV as V,cW as W,cX as X,cY as Y}from"./index-af6146a1.js";const G="_container_3cv9i_107",J="_Account_3cv9i_114",Z={container:G,Account:J},tt="_container_1lv56_107",et="_AccountBody_1lv56_114",ct="_AccountHeader_1lv56_117",st="_cover_1lv56_121",nt="_fullName_1lv56_128",at="_editBtn_1lv56_147",ot="_icon_1lv56_152",lt="_avatar_1lv56_157",rt="_about_1lv56_166",it="_buttons_1lv56_169",ut="_btn_1lv56_174",_t="_link_1lv56_174",dt="_AccountInfo_1lv56_177",ht="_title_1lv56_185",vt="_birthDate_1lv56_200",mt="_classNum_1lv56_203",ft="_rating_1lv56_206",At="_AccountSchool_1lv56_209",Nt="_school_1lv56_212",e={container:tt,AccountBody:et,AccountHeader:ct,cover:st,fullName:nt,editBtn:at,icon:ot,avatar:lt,about:rt,buttons:it,btn:ut,link:_t,AccountInfo:dt,title:ht,birthDate:vt,classNum:mt,rating:ft,AccountSchool:At,school:Nt};var p={},pt=y;Object.defineProperty(p,"__esModule",{value:!0});var I=p.default=void 0,gt=pt($()),Dt=S,bt=(0,gt.default)((0,Dt.jsx)("path",{d:"M3 17.46v3.04c0 .28.22.5.5.5h3.04c.13 0 .26-.05.35-.15L17.81 9.94l-3.75-3.75L3.15 17.1c-.1.1-.15.22-.15.36zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"}),"EditRounded");I=p.default=bt;const $t=q.memo(({accountData:v,isMy:s})=>{const{fullName:r,birthDate:i,class:n,school:d,status:c,aboutMe:o,avatarUrl:a,rating:f,uid:m}=v;h(w);const A=new Date(i.years,i.months,i.date),Q=B(A.getTime());return l("div",{className:e.AccountBody,children:[l("div",{className:e.AccountHeader,children:[l("div",{className:e.cover,children:[t("div",{className:e.editBtn,children:t(I,{className:e.icon})}),t("h1",{className:e.fullName,children:r})]}),t(E,{className:e.avatar,src:a,alt:"Фото користувача"})]}),t("p",{className:e.about,children:o}),!s&&t("div",{className:e.buttons,children:t(M,{color:"primary",variant:"outlined",startDecorator:t(j,{}),className:e.btn,children:t(D,{className:e.link,to:`/chat/${m}`,children:"Написати повідомлення"})})}),l("ul",{className:e.AccountInfo,children:[t("h3",{className:e.title,children:"Інформація"}),t("li",{className:e.classNum,children:t("p",{children:n})}),t("li",{className:e.birthDate,children:t("span",{children:Q})}),t("li",{className:e.rating,children:t("p",{children:f})}),t("li",{className:e.AccountSchool,children:t(D,{to:d.website,title:"Сайт школи",target:"_blank",className:e.school,children:d.institution_name})})]})]})}),yt="_container_4yeen_107",St="_NoAccountData_4yeen_114",xt="_icon_4yeen_122",Lt="_text_4yeen_127",N={container:yt,NoAccountData:St,icon:xt,text:Lt},It=()=>l("div",{className:N.NoAccountData,children:[t(k,{className:N.icon}),t("span",{className:N.text,children:"Користувач ще не вніс свої дані"})]}),Rt="_container_nenl0_107",Qt="_AccountQuestions_nenl0_114",qt="_top_nenl0_117",wt="_title_nenl0_124",Bt="__open_nenl0_139",Et="_arrow_nenl0_139",Mt="_questionsList_nenl0_147",u={container:Rt,AccountQuestions:Qt,top:qt,title:wt,_open:Bt,arrow:Et,questionsList:Mt};var g={},jt=y;Object.defineProperty(g,"__esModule",{value:!0});var R=g.default=void 0,kt=jt($()),Ut=S,Ot=(0,kt.default)((0,Ut.jsx)("path",{d:"M8.12 9.29 12 13.17l3.88-3.88c.39-.39 1.02-.39 1.41 0 .39.39.39 1.02 0 1.41l-4.59 4.59c-.39.39-1.02.39-1.41 0L6.7 10.7a.9959.9959 0 0 1 0-1.41c.39-.38 1.03-.39 1.42 0z"}),"KeyboardArrowDownRounded");R=g.default=Ot;const Pt=({uid:v})=>{const s=h(U),[r,i]=_.useState(!1),[n,d]=_.useState(!1),c=_.useRef(null),o=x();return _.useEffect(()=>{s||(async()=>{i(!0),await o(F(v)),i(!1)})()},[n]),_.useEffect(()=>()=>{o(O(null))},[]),console.log("condition",n&&!r&&c.current),l("div",{className:u.AccountQuestions,children:[l("button",{className:b(u.top,n&&u._open),onClick:()=>d(a=>!a),children:[l("h2",{className:u.title,children:["Запитання ",s&&`(${s.length})`]}),t(R,{className:u.arrow})]}),t("div",{className:b(u.questionsList,n&&u._open),ref:c,children:r?t(L,{}):s?s.map(a=>t(P,{data:a,isOpen:!1},a.id)):t("p",{className:u.noQuestions,children:"Немає запитань"})}),n&&!r&&c.current&&t(C,{element:c.current,up:!0})]})},Ct=({})=>{const[v,s]=_.useState(!0),r=h(H),i=h(z),n=h(K),d=h(T),{userId:c}=V(),o=c?i:r,a=!c,[f,m]=_.useState(!1);_.useEffect(()=>{s(!0),!c&&!r&&m(!0),c&&A(W(c)),s(!1)},[c]),console.log("axxoun data",o);const A=x();return console.log("is fetching",n),d?n&&v?t(L,{}):t("div",{className:Z.Account,children:!f&&o?l(Y,{children:[t($t,{accountData:o,setIsEdit:m,isMy:a}),t(Pt,{uid:o.uid})]}):a?t("p",{children:"Тут має бути AccountForm"}):t(It,{})}):t(X,{to:"/login",replace:!0})},Ht=Ct;export{Ht as default};
