import{u as $,k as h,j as c,p as _,d as e,L as v,B as x,q as N,I as b,F as E,t as k,c as L,v as y,w as W,x as T,y as B,z as F,N as m,f as u,l as q,D as I,E as S,b as D}from"./index-ea076daa.js";const M="_container_r307v_107",w="_fieldWrapper_r307v_114",A="_fieldLabel_r307v_118",O="_fieldErrorText_r307v_134",P="_input_r307v_150",G="_Login_r307v_180",j="_content_r307v_190",C="_title_r307v_195",z="_loginForm_r307v_215",R="_loginBtn_r307v_218",H="_googleIcon_r307v_224",f={container:M,fieldWrapper:w,fieldLabel:A,fieldErrorText:O,input:P,Login:G,content:j,title:C,loginForm:z,loginBtn:R,googleIcon:H},J="_container_1rhou_107",K="_fieldWrapper_1rhou_114",Q="_fieldLabel_1rhou_118",U="_fieldErrorText_1rhou_134",V="_input_1rhou_150",g={container:J,fieldWrapper:K,fieldLabel:Q,fieldErrorText:U,input:V},X=({className:n})=>{const{control:t,formState:{errors:o},handleSubmit:s}=$(),r=h(),d=p=>{console.log("submit data",p),r(N(p.email,p.password))};return c("form",{className:_(n,g.loginForm),onSubmit:s(d),children:[e(v,{control:t,errors:o,className:g.loginFields}),e(x,{type:"submit",className:g.submitBtn,children:"Увійти"})]})},Y="_container_ql56y_107",Z="_fieldWrapper_ql56y_114",ee="_fieldLabel_ql56y_118",ne="_fieldErrorText_ql56y_134",te="_input_ql56y_150",oe="_OtherLoginMethods_ql56y_180",se="_text_ql56y_186",re="_buttons_ql56y_201",ie="_btn_ql56y_205",ce="_icon_ql56y_214",i={container:Y,fieldWrapper:Z,fieldLabel:ee,fieldErrorText:ne,input:te,OtherLoginMethods:oe,text:se,buttons:re,btn:ie,icon:ce},le="_container_1rhou_107",ae="_fieldWrapper_1rhou_114",_e="_fieldLabel_1rhou_118",de="_fieldErrorText_1rhou_134",pe="_input_1rhou_150",a={container:le,fieldWrapper:ae,fieldLabel:_e,fieldErrorText:de,input:pe},ue=({className:n})=>{const t=h(),o=async()=>{t(k())};return e(b,{className:_(a.iconBtn,n),onClick:o,children:e(E,{className:a.icon})})},fe=({className:n})=>{const t=h();L();const o=async r=>{t(B(r))},s=async()=>{const r=new W,{user:d}=await T(F,r);o(d)};return e(b,{className:_(n,a.iconBtn),onClick:s,children:e(y,{className:a.icon})})},ge=({className:n})=>c("div",{className:_(i.OtherLoginMethods,n),children:[e("p",{className:i.text,children:"Увійти за допомогою:"}),c("div",{className:i.buttons,children:[e(fe,{className:i.btn}),e(ue,{className:i.btn})]})]}),he="_container_14lmb_107",me="_fieldWrapper_14lmb_114",be="_fieldLabel_14lmb_118",Le="_fieldErrorText_14lmb_134",$e="_input_14lmb_150",ve="_Links_14lmb_180",xe="_link_14lmb_185",l={container:he,fieldWrapper:me,fieldLabel:be,fieldErrorText:Le,input:$e,Links:ve,link:xe},Ne=({})=>c("div",{className:l.Links,children:[e(m,{to:"reset-password",replace:!0,className:l.link,children:"Забули пароль?"}),e(m,{to:"/registration",replace:!0,className:`${l.registerBtn} ${l.link}`,children:"Зареєструватися"})]}),Ee=({})=>{const n=u(q),t=u(I),o=u(S),s=L();return D.useEffect(()=>{console.log("is authed",t),n&&t&&(o==="/login"?s("/",{replace:!0}):s(o||"/",{replace:!0}))},[n,t]),e("div",{className:f.Login,children:c("div",{className:f.content,children:[e("h1",{className:f.title,children:"З поверненням!"}),e(X,{}),e(ge,{}),e(Ne,{})]})})},ye=Ee;export{ye as default};
