import{r as L,i as N,a as j,u as T,b as l,c as C,j as p,d as e,C as D,A as I,I as y,e as W,f as _,s as q,G as U,g as A,h as O,k as R,l as B,m as G,n as M,o as w,p as V}from"./index-d2d82831.js";const z="_container_1rhou_107",P="_fieldWrapper_1rhou_114",Q="_fieldLabel_1rhou_118",k="_fieldErrorText_1rhou_134",F="_input_1rhou_150",H={container:z,fieldWrapper:P,fieldLabel:Q,fieldErrorText:k,input:F},J="_container_1ijn7_107",K="_fieldWrapper_1ijn7_114",X="_fieldLabel_1ijn7_118",Y="_fieldErrorText_1ijn7_134",Z="_input_1ijn7_150",ee="_UsersSearch_1ijn7_180",te="_title_1ijn7_183",n={container:J,fieldWrapper:K,fieldLabel:X,fieldErrorText:Y,input:Z,UsersSearch:ee,title:te};var h={},ae=N;Object.defineProperty(h,"__esModule",{value:!0});var g=h.default=void 0,se=ae(L()),ne=j,re=(0,se.default)((0,ne.jsx)("path",{d:"M15.5 14h-.79l-.28-.27c1.2-1.4 1.82-3.31 1.48-5.34-.47-2.78-2.79-5-5.59-5.34-4.23-.52-7.79 3.04-7.27 7.27.34 2.8 2.56 5.12 5.34 5.59 2.03.34 3.94-.28 5.34-1.48l.27.28v.79l4.25 4.25c.41.41 1.08.41 1.49 0 .41-.41.41-1.08 0-1.49L15.5 14zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"}),"SearchRounded");g=h.default=re;const oe=({})=>{const{control:r,watch:o,handleSubmit:t}=T(),[c,u]=l.useState(!1),[v,b]=l.useState([]),[d,S]=l.useState(""),x=C(),$=(s,i)=>{S(i)},E=s=>{console.log("submit"),m(s.query)},m=async s=>{if(s){u(!0);const i=await W.getUsersByQuery(s);u(!1),i&&b(i.map(a=>({fullName:a.fullName,uid:a.uid})))}};return l.useEffect(()=>{console.log("query changed"),d&&m(d)},[d]),p("div",{className:n.UsersSearch,children:[e("h3",{className:n.title,children:"Знайдіть нових співрозмовників"}),e("form",{className:n.form,onSubmit:t(E),children:e(D,{control:r,name:"query",render:({field:{value:s,onChange:i}})=>e(I,{options:v,className:n.input,inputValue:d,freeSolo:!0,loading:c,loadingText:"Пошук...",isOptionEqualToValue:(a,f)=>a.fullName===f.fullName,getOptionLabel:a=>a.fullName,onChange:(a,f)=>{x(`/account/${f.uid}`)},onInputChange:$,placeholder:"І'мя та прізвище",endDecorator:e(y,{className:n.iconBtn,type:"submit",children:e(g,{className:n.icon})})})})})]})},ie="_container_1rhou_107",le="_fieldWrapper_1rhou_114",ce="_fieldLabel_1rhou_118",ue="_fieldErrorText_1rhou_134",de="_input_1rhou_150",_e={container:ie,fieldWrapper:le,fieldLabel:ce,fieldErrorText:ue,input:de},fe=({chatsData:r})=>{const o=_(q);return p("div",{className:_e.ChatsList,children:[o&&e(U,{data:o,active:!1}),r.map(t=>t.contactId!==A&&e(O,{data:t},t.contactId))]})},pe=({})=>{const r=C(),o=R(),t=_(B),c=_(G),u=_(M);return l.useEffect(()=>{o(w())},[t==null?void 0:t.uid]),u||r("/login",{replace:!0}),p("div",{className:V(H.Chats,"container"),children:[e(oe,{}),c?e(fe,{chatsData:c}):e("p",{children:"Немає розмов"})]})},me=pe;export{me as default};
